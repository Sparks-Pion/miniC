## 任务103：Flex规则匹配顺序

**任务描述**

了解flex规则在匹配时，如果多条规则都匹配成功，如何处理。
以下代码，输出结果是给出的序列。
```python
%%
a*b             {printf("1");}
ca              {printf("2");}
a*ca*           {printf("3");}
%%
int main()
{
        yylex();
} 
```

**输入**

`abcaacacaaabbaaabcaaca `

**预期输出**

请在3.md中，写出预期输出

**思考问题**
调整规则次序，观察匹配结果，记录flex匹配的原则。

a*b             {printf("1");}
ca              {printf("2");}
a*ca*           {printf("3");}
132311132

a*b             {printf("1");}
a*ca*           {printf("3");}
ca              {printf("2");}
133311133

ca              {printf("2");}
a*b             {printf("1");}
a*ca*           {printf("3");}
132311132

ca              {printf("2");}
a*ca*           {printf("3");}
a*b             {printf("1");}
132311132

a*ca*           {printf("3");}
ca              {printf("2");}
a*b             {printf("1");}
133311133

a*ca*           {printf("3");}
a*b             {printf("1");}
ca              {printf("2");}
133311133

开始你的任务吧，祝你成功！

——————————————————————

**需要掌握的前序知识**

**lex/flex的语法结构**

lex/flex是通过处理其源文件来生词法和语法分析器的，源文件的扩展名为.l，其语法被分为三个部分：：

```c
 /* 预定义段 */
%{
%}
%%
/* 规则段 */
%%
/* 用户子程序段 */
```

三个段用 %% 进行分离。

1. 预定义段，这一部分一般是一些声明及选项设置等。C 语言的注释、头文件包含等一般就放在`%{ %}` 之间，这一部分的内容会被直接复制到输出文件的开头部分；

2. 规则段为一系列匹配模式和动作，模式一般使用正则表达式书写，动作部分为C代码：`模式1    {动作1(C代码)}`，在输入和模式 1 匹配的时候，执行动作部分的代码；

    | 符号  |  含义 |
    | ------------ | ------------ |
    | **\|**  | 或 |
    | [] | 括号中的字符取其一  |
    | **-**| a-z表示ascii码中介于a-z包括a、z的字符  |
    | \ | 转义（flex不能识别除字母外的字符）  |
    | * | 0或多个字符  |
    | ? | 0或1个字符  |
    | + | 1或多个字符  |
    | ^ | 除此之外的其余字符  |
    | **.** | 除\\n外的所有字符，等价于^\\n  |

3. 用户子程序段，这里为 C 代码，会被原样复制到输出文件中，一般这里定义一些辅助函数等，如动作代码中使用到的辅助函数。

